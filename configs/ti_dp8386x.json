{
  "identity": {
    "chip_name": "TI DP8386x Series PHY",
    "phy_id": "0x2000a230",
    "phy_id_mask": "0xFFFFFFF0"
  },
  "cmd_template": "std_c22",
  "test_modes": {
    "General_Ops": {
      "options": [
        {
          "name": "Soft Reset",
          "sequence": [
            { "action": "WRITE", "reg": "0x00", "val": "0x01", "shift": 15, "mask": "0x7FFF", "comment": "Bit 15 Reset" }
          ]
        },
        {
          "name": "Read ID",
          "sequence": [
            { "action": "READ", "reg": "0x02", "comment": "Read PHY ID 1" },
            { "action": "READ", "reg": "0x03", "comment": "Read PHY ID 2" }
          ]
        }
      ]
    },
    "10M_Test_Mode": {
      "options": [
        {
          "name": "10BASE-T Link Pulse MDI",
          "sequence": [
            { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
            { "reg": "0x00", "val": "0x0100", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为 10Base-T 模式" },
            { "reg": "0x10", "val": "0x5008", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为强制 MDI" },
            { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "重新启动 PHY" }
          ]
        },
        {
          "name": "10BASE-T Link Pulse MDIX",
          "sequence": [
            { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
            { "reg": "0x00", "val": "0x0100", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为 10Base-T 模式" },
            { "reg": "0x10", "val": "0x5028", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为强制 MDIX" },
            { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "重新启动 PHY" }
          ]
        },
        {
          "name": "10BASE-T Standard MDI",
          "sequence": [
            { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
            { "reg": "0x00", "val": "0x0100", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为 10Base-T 模式" },
            { "reg": "0x10", "val": "0x5008", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为强制 MDI" },
            { "reg": "0x16", "val": "0xD004", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程以生成流量" },
            { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "重新启动 PHY" }
          ]
        },
        {
          "name": "10BASE-T Standard MDIX",
          "sequence": [
            { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
            { "reg": "0x00", "val": "0x0100", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为 10Base-T 模式" },
            { "reg": "0x10", "val": "0x5028", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为强制 MDIX" },
            { "reg": "0x16", "val": "0xD004", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程以生成流量" },
            { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "重新启动 PHY" }
          ]
        },
        {
          "name": "10BASE-T Harmonic Content MDI",
          "sequence": [
            { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
            { "reg": "0x00", "val": "0x0100", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为 10Base-T 模式" },
            { "reg": "0x10", "val": "0x5008", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为强制 MDI" },
            { "reg": "0x0D", "val": "0x001F", "shift": 0, "mask": "0x3FE0", "comment": "设置间接寻址" },
            { "reg": "0x0E", "val": "0x0025", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" },
            { "reg": "0x0D", "val": "0x401F", "shift": 0, "mask": "0x3FE0", "comment": "准备写入寻址地址数据" },
            { "reg": "0x0E", "val": "0x0413", "shift": 0, "mask": "0x0000", "comment": "写寄存器0x0025 = 0x0413" },
            { "action": "READ", "template": "std_c22", "reg": "0x0E", "comment": "读取写入数据确认" }
          ]
        },
        {
          "name": "10BASE-T Harmonic Content MDIX",
          "sequence": [
            { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
            { "reg": "0x00", "val": "0x0100", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为 10Base-T 模式" },
            { "reg": "0x10", "val": "0x5028", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为强制 MDIX" },
            { "reg": "0x0D", "val": "0x001F", "shift": 0, "mask": "0x3FE0", "comment": "设置间接寻址" },
            { "reg": "0x0E", "val": "0x0025", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" },
            { "reg": "0x0D", "val": "0x401F", "shift": 0, "mask": "0x3FE0", "comment": "准备写入寻址地址数据" },
            { "reg": "0x0E", "val": "0x0413", "shift": 0, "mask": "0x0000", "comment": "写寄存器0x0025 = 0x0413" },
            { "action": "READ", "template": "std_c22", "reg": "0x0E", "comment": "读取写入数据确认" }
          ]
        }
      ]
    },
    "100M_Test_Mode": {
      "options": [
        {
          "name": "100BASE-TX Test Mode Standard MDI",
          "sequence": [
            { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
            { "reg": "0x00", "val": "0x2100", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为 100Base-TX 模式" },
            { "reg": "0x10", "val": "0x5008", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为强制 MDI" },
            { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "重新启动 PHY" }
          ]
        },
                {
          "name": "100BASE-TX Test Mode Standard MDIX",
          "sequence": [
            { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
            { "reg": "0x00", "val": "0x2100", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为 100Base-TX 模式" },
            { "reg": "0x10", "val": "0x5028", "shift": 0, "mask": "0x0000", "comment": "将 DUT 编程为强制 MDIX" },
            { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "重新启动 PHY" }
          ]
        }
      ]
    },
    "1000M_Test_Mode": {
      "options": [
        {
          "name": "1000BASE-T Test Mode-1",
          "sequence": [
            { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
            { "reg": "0x00", "val": "0x0140", "shift": 0, "mask": "0x0000", "comment": "1000 Base-T 模式， 自动协商已禁用" },
            { "reg": "0x10", "val": "0x5008", "shift": 0, "mask": "0x0000", "comment": "强制 MDI 模式" },
            { "reg": "0x09", "val": "0x3B00", "shift": 0, "mask": "0x0000", "comment": "测试模式 1" },
            { "reg": "0x0D", "val": "0x001F", "shift": 0, "mask": "0x3FE0", "comment": "设置间接寻址" },
            { "reg": "0x0E", "val": "0x0025", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" },
            { "reg": "0x0D", "val": "0x401F", "shift": 0, "mask": "0x3FE0", "comment": "准备写入寻址地址数据" },
            { "reg": "0x0E", "val": "0x0480", "shift": 0, "mask": "0x0000", "comment": "写寄存器0x0025 = 0x0480" },
            { "action": "READ", "template": "std_c22", "reg": "0x0E", "comment": "读取写入数据确认" },
            { "reg": "0x0D", "val": "0x001F", "shift": 0, "mask": "0x3FE0", "comment": "设置间接寻址" },
            { "reg": "0x0E", "val": "0x01D5", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" },
            { "reg": "0x0D", "val": "0x401F", "shift": 0, "mask": "0x3FE0", "comment": "准备写入寻址地址数据" },
            { "reg": "0x0E", "val": "0xF508", "shift": 0, "mask": "0x0000", "comment": "写寄存器0x01D5 = 0xF508" },
            { "action": "READ", "template": "std_c22", "reg": "0x0E", "comment": "读取写入数据确认" },
            { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" }
          ]
        },
        {
          "name": "1000BASE-T Test Mode-2",
          "sequence": [
            { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
            { "reg": "0x00", "val": "0x0140", "shift": 0, "mask": "0x0000", "comment": "1000 Base-T 模式， 自动协商已禁用" },
            { "reg": "0x10", "val": "0x5008", "shift": 0, "mask": "0x0000", "comment": "强制 MDI 模式" },
            { "reg": "0x09", "val": "0x5B00", "shift": 0, "mask": "0x0000", "comment": "测试模式 2" },
            { "reg": "0x0D", "val": "0x001F", "shift": 0, "mask": "0x3FE0", "comment": "设置间接寻址" },
            { "reg": "0x0E", "val": "0x0025", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" },
            { "reg": "0x0D", "val": "0x401F", "shift": 0, "mask": "0x3FE0", "comment": "准备写入寻址地址数据" },
            { "reg": "0x0E", "val": "0x0480", "shift": 0, "mask": "0x0000", "comment": "写寄存器0x0025 = 0x0480" },
            { "action": "READ", "template": "std_c22", "reg": "0x0E", "comment": "读取写入数据确认" },
            { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" }
          ]
        },
        {
          "name": "1000BASE-T Test Mode-4",
          "sub_modes": [
            {
              "name": "Channel A",
              "sequence": [
                { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
                { "reg": "0x00", "val": "0x0140", "shift": 0, "mask": "0x0000", "comment": "1000 Base-T 模式， 自动协商已禁用" },
                { "reg": "0x10", "val": "0x5008", "shift": 0, "mask": "0x0000", "comment": "强制 MDI 模式" },
                { "reg": "0x09", "val": "0x9B00", "shift": 0, "mask": "0x0000", "comment": "测试模式 4" },
                { "reg": "0x0D", "val": "0x001F", "shift": 0, "mask": "0x3FE0", "comment": "设置间接寻址" },
                { "reg": "0x0E", "val": "0x0025", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" },
                { "reg": "0x0D", "val": "0x401F", "shift": 0, "mask": "0x3FE0", "comment": "准备写入寻址地址数据" },
                { "reg": "0x0E", "val": "0x0400", "shift": 0, "mask": "0x0000", "comment": "写寄存器0x0025 = 0x0400" },
                { "action": "READ", "template": "std_c22", "reg": "0x0E", "comment": "读取写入数据确认" },
                { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" }
              ]
            },
            {
              "name": "Channel B",
              "sequence": [
                { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
                { "reg": "0x00", "val": "0x0140", "shift": 0, "mask": "0x0000", "comment": "1000 Base-T 模式， 自动协商已禁用" },
                { "reg": "0x10", "val": "0x5008", "shift": 0, "mask": "0x0000", "comment": "强制 MDI 模式" },
                { "reg": "0x09", "val": "0x9B00", "shift": 0, "mask": "0x0000", "comment": "测试模式 4" },
                { "reg": "0x0D", "val": "0x001F", "shift": 0, "mask": "0x3FE0", "comment": "设置间接寻址" },
                { "reg": "0x0E", "val": "0x0025", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" },
                { "reg": "0x0D", "val": "0x401F", "shift": 0, "mask": "0x3FE0", "comment": "准备写入寻址地址数据" },
                { "reg": "0x0E", "val": "0x0420", "shift": 0, "mask": "0x0000", "comment": "写寄存器0x0025 = 0x0420" },
                { "action": "READ", "template": "std_c22", "reg": "0x0E", "comment": "读取写入数据确认" },
                { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" }
              ]
            },
            {
              "name": "Channel C",
              "sequence": [
                { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
                { "reg": "0x00", "val": "0x0140", "shift": 0, "mask": "0x0000", "comment": "1000 Base-T 模式， 自动协商已禁用" },
                { "reg": "0x10", "val": "0x5008", "shift": 0, "mask": "0x0000", "comment": "强制 MDI 模式" },
                { "reg": "0x09", "val": "0x9B00", "shift": 0, "mask": "0x0000", "comment": "测试模式 4" },
                { "reg": "0x0D", "val": "0x001F", "shift": 0, "mask": "0x3FE0", "comment": "设置间接寻址" },
                { "reg": "0x0E", "val": "0x0025", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" },
                { "reg": "0x0D", "val": "0x401F", "shift": 0, "mask": "0x3FE0", "comment": "准备写入寻址地址数据" },
                { "reg": "0x0E", "val": "0x0440", "shift": 0, "mask": "0x0000", "comment": "写寄存器0x0025 = 0x0440" },
                { "action": "READ", "template": "std_c22", "reg": "0x0E", "comment": "读取写入数据确认" },
                { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" }
              ]
            },
            {
              "name": "Channel D",
              "sequence": [
                { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
                { "reg": "0x00", "val": "0x0140", "shift": 0, "mask": "0x0000", "comment": "1000 Base-T 模式， 自动协商已禁用" },
                { "reg": "0x10", "val": "0x5008", "shift": 0, "mask": "0x0000", "comment": "强制 MDI 模式" },
                { "reg": "0x09", "val": "0x9B00", "shift": 0, "mask": "0x0000", "comment": "测试模式 4" },
                { "reg": "0x0D", "val": "0x001F", "shift": 0, "mask": "0x3FE0", "comment": "设置间接寻址" },
                { "reg": "0x0E", "val": "0x0025", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" },
                { "reg": "0x0D", "val": "0x401F", "shift": 0, "mask": "0x3FE0", "comment": "准备写入寻址地址数据" },
                { "reg": "0x0E", "val": "0x0460", "shift": 0, "mask": "0x0000", "comment": "写寄存器0x0025 = 0x0460" },
                { "action": "READ", "template": "std_c22", "reg": "0x0E", "comment": "读取写入数据确认" },
                { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" }
              ]
            },
            {
              "name": "All Channels",
              "sequence": [
                { "reg": "0x1F", "val": "0x8000", "shift": 0, "mask": "0x0000", "comment": "Bit 15 Reset" },
                { "reg": "0x00", "val": "0x0140", "shift": 0, "mask": "0x0000", "comment": "1000 Base-T 模式， 自动协商已禁用" },
                { "reg": "0x10", "val": "0x5008", "shift": 0, "mask": "0x0000", "comment": "强制 MDI 模式" },
                { "reg": "0x09", "val": "0x9B00", "shift": 0, "mask": "0x0000", "comment": "测试模式 4" },
                { "reg": "0x0D", "val": "0x001F", "shift": 0, "mask": "0x3FE0", "comment": "设置间接寻址" },
                { "reg": "0x0E", "val": "0x0025", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" },
                { "reg": "0x0D", "val": "0x401F", "shift": 0, "mask": "0x3FE0", "comment": "准备写入寻址地址数据" },
                { "reg": "0x0E", "val": "0x0480", "shift": 0, "mask": "0x0000", "comment": "写寄存器0x0025 = 0x0480" },
                { "action": "READ", "template": "std_c22", "reg": "0x0E", "comment": "读取写入数据确认" },
                { "reg": "0x1F", "val": "0x4000", "shift": 0, "mask": "0x0000", "comment": "设置间接寻址地址" }
              ]
            }
          ]
        }
      ]
    }
  }
}
